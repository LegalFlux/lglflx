"use strict";(()=>{var e={};e.id=844,e.ids=[844,660],e.modules={1867:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{config:()=>v,default:()=>u,getServerSideProps:()=>f,getStaticPaths:()=>p,getStaticProps:()=>h,reportWebVitals:()=>j,routeModule:()=>S,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>g});var l=t(7093),i=t(5244),r=t(1323),d=t(2899),o=t.n(d),n=t(6958),c=t.n(n),m=t(1416),x=e([m]);m=(x.then?(await x)():x)[0];let u=(0,r.l)(m,"default"),h=(0,r.l)(m,"getStaticProps"),p=(0,r.l)(m,"getStaticPaths"),f=(0,r.l)(m,"getServerSideProps"),v=(0,r.l)(m,"config"),j=(0,r.l)(m,"reportWebVitals"),g=(0,r.l)(m,"unstable_getStaticProps"),N=(0,r.l)(m,"unstable_getStaticPaths"),y=(0,r.l)(m,"unstable_getStaticParams"),b=(0,r.l)(m,"unstable_getServerProps"),w=(0,r.l)(m,"unstable_getServerSideProps"),S=new l.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/Documents",pathname:"/Documents",bundlePath:"",filename:""},components:{App:c(),Document:o()},userland:m});a()}catch(e){a(e)}})},1462:(e,s,t)=>{t.d(s,{Z:()=>o});var a=t(6689);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(...e)=>e.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim();var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:t=2,absoluteStrokeWidth:l,className:d="",children:o,iconNode:n,...c},m)=>(0,a.createElement)("svg",{ref:m,...r,width:s,height:s,stroke:e,strokeWidth:l?24*Number(t)/Number(s):t,className:i("lucide",d),...c},[...n.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(o)?o:[o]])),o=(e,s)=>{let t=(0,a.forwardRef)(({className:t,...r},o)=>(0,a.createElement)(d,{ref:o,iconNode:s,className:i(`lucide-${l(e)}`,t),...r}));return t.displayName=`${e}`,t}},9044:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]])},7430:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]])},9967:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7218:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3552:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},3980:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2629:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]])},1952:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},3062:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])},3460:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},8453:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5809:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},932:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]])},4676:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},5451:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2770:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},5278:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{SP:()=>m,dr:()=>c,mQ:()=>n,nU:()=>x});var l=t(997),i=t(6689),r=t(6860),d=t(3917),o=e([r,d]);[r,d]=o.then?(await o)():o;let n=r.Root,c=i.forwardRef(({className:e,...s},t)=>l.jsx(r.List,{ref:t,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));c.displayName=r.List.displayName;let m=i.forwardRef(({className:e,...s},t)=>l.jsx(r.Trigger,{ref:t,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));m.displayName=r.Trigger.displayName;let x=i.forwardRef(({className:e,...s},t)=>l.jsx(r.Content,{ref:t,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));x.displayName=r.Content.displayName,a()}catch(e){a(e)}})},3494:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{g:()=>o});var l=t(997),i=t(6689),r=t(3917),d=e([r]);r=(d.then?(await d)():d)[0];let o=i.forwardRef(({className:e,...s},t)=>l.jsx("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));o.displayName="Textarea",a()}catch(e){a(e)}})},8553:(e,s,t)=>{t.d(s,{Am:()=>c}),t(6689);let a=0,l=new Map,i=e=>{if(l.has(e))return;let s=setTimeout(()=>{l.delete(e),n({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,s)},r=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},d=[],o={toasts:[]};function n(e){o=r(o,e),d.forEach(e=>{e(o)})}function c({...e}){let s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>n({type:"DISMISS_TOAST",toastId:s});return n({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:e=>{e||t()}}}),{id:s,dismiss:t,update:e=>n({type:"UPDATE_TOAST",toast:{...e,id:s}})}}},1416:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>R});var l=t(997),i=t(6689),r=t(6802),d=t(8553),o=t(2417),n=t(8501),c=t(5278),m=t(1027),x=t(8859),u=t(3494),h=t(1952),p=t(3460),f=t(5809),v=t(4672),j=t(3062),g=t(5451),N=t(9967),y=t(2629),b=t(8453),w=t(1568),S=t(2770),k=t(932),C=t(7430),M=t(9044),A=t(3980),z=t(4676),Z=t(3552),D=t(7218),T=e([o,n,c,m,x,u]);[o,n,c,m,x,u]=T.then?(await T)():T;let P=[{id:"1",documentId:"1",version:1,content:"Conte\xfado inicial do documento",createdAt:"2025-03-20T10:00:00Z",createdBy:"Jo\xe3o Silva",comment:"Vers\xe3o inicial"},{id:"2",documentId:"1",version:2,content:"Conte\xfado atualizado com corre\xe7\xf5es",createdAt:"2025-03-21T14:30:00Z",createdBy:"Maria Oliveira",comment:"Corre\xe7\xf5es ortogr\xe1ficas"},{id:"3",documentId:"1",version:3,content:"Conte\xfado final com revis\xe3o legal",createdAt:"2025-03-22T09:15:00Z",createdBy:"Carlos Santos",comment:"Revis\xe3o legal completa"}],I=[{userId:"1",name:"Jo\xe3o Silva",email:"joao.silva@exemplo.com",role:"owner",addedAt:"2025-03-20T10:00:00Z"},{userId:"2",name:"Maria Oliveira",email:"maria.oliveira@exemplo.com",role:"editor",addedAt:"2025-03-20T10:05:00Z"},{userId:"3",name:"Carlos Santos",email:"carlos.santos@exemplo.com",role:"viewer",addedAt:"2025-03-21T14:00:00Z"}],B=({document:e,onSave:s,onAddCollaborator:t,onClose:a})=>{let[r,m]=(0,i.useState)(""),[v,j]=(0,i.useState)(""),[g,N]=(0,i.useState)(""),[y,b]=(0,i.useState)("viewer"),[w,S]=(0,i.useState)(["Jo\xe3o Silva","Maria Oliveira"]),[k,C]=(0,i.useState)("editor");return(0,i.useEffect)(()=>{m(`# ${e.name}

Conte\xfado do documento...

`);let s=setInterval(()=>{},5e3);return()=>clearInterval(s)},[e]),(0,l.jsxs)("div",{className:"flex flex-col h-full",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4 p-2 border-b",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx(h.Z,{className:"mr-2"}),l.jsx("h2",{className:"text-xl font-semibold",children:e.name}),e.isLocked&&l.jsx(p.Z,{className:"ml-2 text-red-500",size:16})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex -space-x-2",children:w.map((e,s)=>l.jsx(x.qE,{className:"border-2 border-background w-8 h-8",children:l.jsx(x.Q5,{children:e.substring(0,2)})},s))}),l.jsx(o.z,{variant:"outline",size:"sm",onClick:a,children:"Fechar"}),(0,l.jsxs)(o.z,{size:"sm",onClick:()=>{s(r,v),j(""),(0,d.Am)({title:"Documento salvo",description:"Uma nova vers\xe3o do documento foi criada."})},children:[l.jsx(f.Z,{className:"mr-2 h-4 w-4"})," Salvar"]})]})]}),(0,l.jsxs)(c.mQ,{value:k,onValueChange:C,className:"flex-1",children:[(0,l.jsxs)(c.dr,{children:[l.jsx(c.SP,{value:"editor",children:"Editor"}),l.jsx(c.SP,{value:"versions",children:"Vers\xf5es"}),l.jsx(c.SP,{value:"collaborators",children:"Colaboradores"})]}),l.jsx(c.nU,{value:"editor",className:"flex-1",children:(0,l.jsxs)("div",{className:"flex flex-col h-full",children:[l.jsx(u.g,{value:r,onChange:e=>m(e.target.value),className:"flex-1 font-mono resize-none min-h-[500px] p-4",placeholder:"Digite o conte\xfado do documento aqui..."}),(0,l.jsxs)("div",{className:"mt-4",children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"Coment\xe1rio da vers\xe3o:"}),l.jsx(u.g,{value:v,onChange:e=>j(e.target.value),placeholder:"Descreva as altera\xe7\xf5es feitas nesta vers\xe3o...",className:"h-20"})]})]})}),l.jsx(c.nU,{value:"versions",children:(0,l.jsxs)("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Hist\xf3rico de vers\xf5es"}),e.versions?.map(e=>l.jsxs("div",{className:"border rounded-md p-3 hover:bg-muted/50",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium",children:["Vers\xe3o ",e.version]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(e.createdAt).toLocaleString()," por ",e.createdBy]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(o.z,{variant:"outline",size:"sm",children:"Visualizar"}),l.jsx(o.z,{variant:"outline",size:"sm",children:"Restaurar"})]})]}),e.comment&&l.jsx("p",{className:"mt-2 text-sm border-t pt-2",children:e.comment})]},e.id)),!e.versions?.length&&l.jsx("p",{className:"text-muted-foreground",children:"Nenhuma vers\xe3o anterior dispon\xedvel."})]})}),l.jsx(c.nU,{value:"collaborators",children:(0,l.jsxs)("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Colaboradores"}),(0,l.jsxs)("div",{className:"border rounded-md p-4",children:[l.jsx("h4",{className:"font-medium mb-2",children:"Adicionar colaborador"}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[l.jsx(n.I,{value:g,onChange:e=>N(e.target.value),placeholder:"Email do colaborador",className:"flex-1"}),(0,l.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"border rounded-md px-3",children:[l.jsx("option",{value:"viewer",children:"Visualizador"}),l.jsx("option",{value:"editor",children:"Editor"})]}),l.jsx(o.z,{onClick:()=>{g&&(t(g,y),N(""),(0,d.Am)({title:"Colaborador adicionado",description:`${g} foi adicionado como ${y}.`}))},children:"Adicionar"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[e.collaborators?.map(e=>l.jsxs("div",{className:"flex justify-between items-center border rounded-md p-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(x.qE,{className:"mr-2 h-8 w-8",children:l.jsx(x.Q5,{children:e.name.substring(0,2)})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:e.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.email})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-sm mr-2",children:"owner"===e.role?"Propriet\xe1rio":"editor"===e.role?"Editor":"Visualizador"}),"owner"!==e.role&&l.jsx(o.z,{variant:"ghost",size:"sm",children:"Remover"})]})]},e.userId)),!e.collaborators?.length&&l.jsx("p",{className:"text-muted-foreground",children:"Nenhum colaborador adicionado."})]})]})})]})]})},O=({templates:e,onUseTemplate:s,onCreateTemplate:t,onClose:a})=>{let[r,m]=(0,i.useState)(""),[x,u]=(0,i.useState)(""),[p,f]=(0,i.useState)(""),[g,N]=(0,i.useState)("browse"),y=Array.from(new Set(e.map(e=>e.templateCategory||"Geral"))),b=e.filter(e=>e.name.toLowerCase().includes(r.toLowerCase()));return(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Modelos de Documentos"}),l.jsx(o.z,{variant:"ghost",onClick:a,children:"Fechar"})]}),(0,l.jsxs)(c.mQ,{value:g,onValueChange:N,children:[(0,l.jsxs)(c.dr,{className:"mb-4",children:[l.jsx(c.SP,{value:"browse",children:"Explorar Modelos"}),l.jsx(c.SP,{value:"create",children:"Criar Modelo"})]}),(0,l.jsxs)(c.nU,{value:"browse",children:[l.jsx("div",{className:"mb-4",children:(0,l.jsxs)("div",{className:"relative",children:[l.jsx(v.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(n.I,{placeholder:"Buscar modelos...",value:r,onChange:e=>m(e.target.value),className:"pl-8"})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(e=>(0,l.jsxs)("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-medium text-lg",children:String(e)}),b.filter(s=>(s.templateCategory||"Geral")===e).map(e=>l.jsx("div",{className:"border rounded-md p-3 hover:bg-muted/50 cursor-pointer",onClick:()=>s(e.id),children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx(h.Z,{className:"mr-2 h-5 w-5 text-blue-500"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Criado em ",new Date(e.uploadedAt).toLocaleDateString()]})]})]})},e.id)),0===b.filter(s=>(s.templateCategory||"Geral")===e).length&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum modelo nesta categoria."})]},String(e)))}),0===b.length&&l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-muted-foreground",children:"Nenhum modelo encontrado."})})]}),l.jsx(c.nU,{value:"create",children:(0,l.jsxs)("div",{className:"space-y-4 max-w-md",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Modelo"}),l.jsx(n.I,{value:x,onChange:e=>u(e.target.value),placeholder:"Ex: Contrato de Presta\xe7\xe3o de Servi\xe7os"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categoria"}),l.jsx(n.I,{value:p,onChange:e=>f(e.target.value),placeholder:"Ex: Contratos, Peti\xe7\xf5es, etc."})]}),(0,l.jsxs)(o.z,{onClick:()=>{x&&(t(x,p||"Geral"),u(""),f(""),(0,d.Am)({title:"Modelo criado",description:`O modelo "${x}" foi criado com sucesso.`}))},children:[l.jsx(j.Z,{className:"mr-2 h-4 w-4"}),"Criar Modelo"]})]})})]})]})},V=({document:e,onSignDocument:s,onRequestSignature:t,onClose:a})=>{let r=(0,i.useRef)(null),[c,m]=(0,i.useState)(!1),[x,u]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),[f,v]=(0,i.useState)("draw");(0,i.useEffect)(()=>{let e=r.current;if(!e)return;let s=e.getContext("2d");s&&(s.fillStyle="#ffffff",s.fillRect(0,0,e.width,e.height),s.lineWidth=2,s.lineCap="round",s.strokeStyle="#000000")},[]);let j=()=>{m(!1)};return(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Assinatura Digital"}),l.jsx(o.z,{variant:"ghost",onClick:a,children:"Fechar"})]}),(0,l.jsxs)("div",{className:"flex space-x-4 mb-4",children:[l.jsx(o.z,{variant:"draw"===f?"default":"outline",onClick:()=>v("draw"),children:"Assinar Documento"}),l.jsx(o.z,{variant:"request"===f?"default":"outline",onClick:()=>v("request"),children:"Solicitar Assinatura"})]}),"draw"===f&&(0,l.jsxs)("div",{children:[l.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:"Desenhe sua assinatura abaixo:"}),l.jsx("div",{className:"border rounded-md p-1 bg-white mb-4",children:l.jsx("canvas",{ref:r,width:600,height:200,onMouseDown:e=>{let s=r.current;if(!s)return;let t=s.getContext("2d");if(!t)return;let a=s.getBoundingClientRect(),l=e.clientX-a.left,i=e.clientY-a.top;t.beginPath(),t.moveTo(l,i),m(!0)},onMouseMove:e=>{if(!c)return;let s=r.current;if(!s)return;let t=s.getContext("2d");if(!t)return;let a=s.getBoundingClientRect(),l=e.clientX-a.left,i=e.clientY-a.top;t.lineTo(l,i),t.stroke()},onMouseUp:j,onMouseLeave:j,className:"w-full cursor-crosshair"})}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsxs)(o.z,{variant:"outline",onClick:()=>{let e=r.current;if(!e)return;let s=e.getContext("2d");s&&(s.fillStyle="#ffffff",s.fillRect(0,0,e.width,e.height))},children:[l.jsx(g.Z,{className:"mr-2 h-4 w-4"}),"Limpar"]}),(0,l.jsxs)(o.z,{onClick:()=>{let e=r.current;if(!e)return;let t=e.toDataURL("image/png");s(t),(0,d.Am)({title:"Documento assinado",description:"Sua assinatura foi aplicada ao documento."})},children:[l.jsx(N.Z,{className:"mr-2 h-4 w-4"}),"Assinar Documento"]})]})]}),"request"===f&&(0,l.jsxs)("div",{className:"space-y-4 max-w-md",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email do Destinat\xe1rio"}),l.jsx(n.I,{value:x,onChange:e=>u(e.target.value),placeholder:"email@exemplo.com"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mensagem (opcional)"}),l.jsx("textarea",{value:h,onChange:e=>p(e.target.value),placeholder:"Por favor, assine este documento...",className:"w-full border rounded-md p-2 h-24"})]}),(0,l.jsxs)(o.z,{onClick:()=>{x&&(t(x,h),(0,d.Am)({title:"Solicita\xe7\xe3o enviada",description:`Solicita\xe7\xe3o de assinatura enviada para ${x}.`}),u(""),p(""))},children:[l.jsx(y.Z,{className:"mr-2 h-4 w-4"}),"Solicitar Assinatura"]})]})]})},E=({onScannedDocument:e,onSignature:s,onOpenTemplates:t})=>{let a=(0,i.useRef)(null),[r,n]=(0,i.useState)(!1),c=()=>{a.current?.click()};return(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6",children:[(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Documentos"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie todos os documentos do seu escrit\xf3rio"})]}),(0,l.jsxs)("div",{className:"mt-4 md:mt-0 flex space-x-2",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)(o.z,{onClick:()=>n(!r),children:[l.jsx(b.Z,{className:"mr-2 h-4 w-4"}),"Novo Documento",l.jsx(w.Z,{className:"ml-2 h-4 w-4"})]}),r&&l.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-background border rounded-md shadow-lg z-10",children:(0,l.jsxs)("div",{className:"p-1",children:[(0,l.jsxs)("button",{className:"flex w-full items-center px-3 py-2 text-sm rounded-md hover:bg-muted",onClick:c,children:[l.jsx(S.Z,{className:"mr-2 h-4 w-4"}),"Carregar Arquivo"]}),(0,l.jsxs)("button",{className:"flex w-full items-center px-3 py-2 text-sm rounded-md hover:bg-muted",onClick:c,children:[l.jsx(k.Z,{className:"mr-2 h-4 w-4"}),"Digitalizar Documento"]}),(0,l.jsxs)("button",{className:"flex w-full items-center px-3 py-2 text-sm rounded-md hover:bg-muted",onClick:t,children:[l.jsx(j.Z,{className:"mr-2 h-4 w-4"}),"Usar Modelo"]}),(0,l.jsxs)("button",{className:"flex w-full items-center px-3 py-2 text-sm rounded-md hover:bg-muted",onClick:()=>{n(!1),(0,d.Am)({title:"Novo documento",description:"Criando novo documento em branco..."})},children:[l.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"Documento em Branco"]})]})})]}),l.jsx("input",{type:"file",ref:a,onChange:s=>{let t=s.target.files?.[0];t&&(e(t),a.current&&(a.current.value=""))},className:"hidden",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"bg-primary/10 rounded-lg p-4 flex items-center",children:[l.jsx("div",{className:"bg-primary/20 rounded-full p-3 mr-4",children:l.jsx(h.Z,{className:"h-6 w-6 text-primary"})}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-medium",children:"Documentos Totais"}),l.jsx("p",{className:"text-2xl font-bold",children:"248"})]})]}),(0,l.jsxs)("div",{className:"bg-yellow-500/10 rounded-lg p-4 flex items-center",children:[l.jsx("div",{className:"bg-yellow-500/20 rounded-full p-3 mr-4",children:l.jsx(y.Z,{className:"h-6 w-6 text-yellow-500"})}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-medium",children:"Pendentes de Assinatura"}),l.jsx("p",{className:"text-2xl font-bold",children:"12"})]})]}),(0,l.jsxs)("div",{className:"bg-green-500/10 rounded-lg p-4 flex items-center",children:[l.jsx("div",{className:"bg-green-500/20 rounded-full p-3 mr-4",children:l.jsx(j.Z,{className:"h-6 w-6 text-green-500"})}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-medium",children:"Modelos Dispon\xedveis"}),l.jsx("p",{className:"text-2xl font-bold",children:"24"})]})]})]})]})},L=({documents:e,searchQuery:s,setSearchQuery:t,filters:a,documentTypes:i,documentStatuses:r,toggleTypeFilter:d,setStatusFilter:x,clearFilters:u,sortOrder:p,toggleSortOrder:f,filteredDocuments:j,onDownload:N,onDelete:b,onView:w,onEdit:S,onSign:k,activeTab:T,setActiveTab:P})=>{let I=e=>e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB",B=e=>new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),O=e=>{switch(e){case"draft":return l.jsx(m.C,{variant:"outline",className:"bg-blue-500/10 text-blue-500",children:"Rascunho"});case"review":return l.jsx(m.C,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500",children:"Em Revis\xe3o"});case"final":return l.jsx(m.C,{variant:"outline",className:"bg-green-500/10 text-green-500",children:"Final"});case"signed":return l.jsx(m.C,{variant:"outline",className:"bg-purple-500/10 text-purple-500",children:"Assinado"});default:return null}};return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,l.jsxs)("div",{className:"relative flex-1",children:[l.jsx(v.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(n.I,{placeholder:"Buscar documentos...",value:s,onChange:e=>t(e.target.value),className:"pl-9"})]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{className:"text-sm font-medium",children:"Tipo:"}),i.map(e=>l.jsx(o.z,{variant:a.types.includes(e)?"default":"outline",size:"sm",onClick:()=>d(e),className:"text-xs",children:e},e))]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{className:"text-sm font-medium",children:"Status:"}),l.jsx(o.z,{variant:a.status?"outline":"default",size:"sm",onClick:()=>x(void 0),className:"text-xs",children:"Todos"}),r.map(e=>l.jsx(o.z,{variant:a.status===e?"default":"outline",size:"sm",onClick:()=>x(e),className:"text-xs",children:"draft"===e?"Rascunho":"review"===e?"Em Revis\xe3o":"final"===e?"Final":"Assinado"},e))]}),l.jsx(o.z,{variant:"ghost",size:"sm",onClick:u,children:"Limpar Filtros"}),l.jsx(o.z,{variant:"outline",size:"sm",onClick:f,children:"asc"===p?l.jsx(C.Z,{className:"h-4 w-4"}):l.jsx(M.Z,{className:"h-4 w-4"})})]})]}),(0,l.jsxs)(c.mQ,{value:T,onValueChange:P,children:[(0,l.jsxs)(c.dr,{className:"mb-6",children:[l.jsx(c.SP,{value:"documentos",children:"Documentos"}),l.jsx(c.SP,{value:"templates",children:"Modelos"}),l.jsx(c.SP,{value:"assinaturas",children:"Pendentes de Assinatura"})]}),l.jsx(c.nU,{value:"documentos",children:(0,l.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[l.jsx("thead",{children:(0,l.jsxs)("tr",{className:"bg-muted/50",children:[l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Nome"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Tipo"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Tamanho"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"\xdaltima Modifica\xe7\xe3o"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"A\xe7\xf5es"})]})}),l.jsx("tbody",{className:"divide-y",children:j.filter(e=>!e.isTemplate).map(e=>(0,l.jsxs)("tr",{className:"hover:bg-muted/30",children:[l.jsx("td",{className:"px-4 py-3",children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx(h.Z,{className:"mr-2 h-5 w-5 text-blue-500"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium",children:e.name}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.tags.map((e,s)=>l.jsx("span",{className:"text-xs bg-muted px-1.5 py-0.5 rounded",children:e},s))})]})]})}),l.jsx("td",{className:"px-4 py-3 text-sm",children:e.type}),l.jsx("td",{className:"px-4 py-3 text-sm",children:O(e.status)}),l.jsx("td",{className:"px-4 py-3 text-sm",children:I(e.size)}),l.jsx("td",{className:"px-4 py-3 text-sm",children:(0,l.jsxs)("div",{children:[l.jsx("p",{children:B(e.lastModifiedAt||e.uploadedAt)}),(0,l.jsxs)("p",{className:"text-xs text-muted-foreground",children:["por ",e.lastModifiedBy||"Desconhecido"]})]})}),l.jsx("td",{className:"px-4 py-3",children:(0,l.jsxs)("div",{className:"flex space-x-1",children:[l.jsx(o.z,{variant:"ghost",size:"icon",onClick:()=>w(e),children:l.jsx(A.Z,{className:"h-4 w-4"})}),l.jsx(o.z,{variant:"ghost",size:"icon",onClick:()=>S(e),children:l.jsx(z.Z,{className:"h-4 w-4"})}),l.jsx(o.z,{variant:"ghost",size:"icon",onClick:()=>k(e),children:l.jsx(y.Z,{className:"h-4 w-4"})}),l.jsx(o.z,{variant:"ghost",size:"icon",onClick:()=>N(e),children:l.jsx(Z.Z,{className:"h-4 w-4"})}),l.jsx(o.z,{variant:"ghost",size:"icon",onClick:()=>b(e),children:l.jsx(g.Z,{className:"h-4 w-4 text-red-500"})})]})})]},e.id))})]})}),0===j.filter(e=>!e.isTemplate).length&&l.jsx("div",{className:"py-8 text-center",children:l.jsx("p",{className:"text-muted-foreground",children:"Nenhum documento encontrado."})})]})}),l.jsx(c.nU,{value:"templates",children:(0,l.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[l.jsx("thead",{children:(0,l.jsxs)("tr",{className:"bg-muted/50",children:[l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Nome"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Categoria"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"\xdaltima Modifica\xe7\xe3o"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"A\xe7\xf5es"})]})}),l.jsx("tbody",{className:"divide-y",children:j.filter(e=>e.isTemplate).map(e=>(0,l.jsxs)("tr",{className:"hover:bg-muted/30",children:[l.jsx("td",{className:"px-4 py-3",children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx(h.Z,{className:"mr-2 h-5 w-5 text-green-500"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium",children:e.name}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.tags.map((e,s)=>l.jsx("span",{className:"text-xs bg-muted px-1.5 py-0.5 rounded",children:e},s))})]})]})}),l.jsx("td",{className:"px-4 py-3 text-sm",children:e.templateCategory||"Geral"}),l.jsx("td",{className:"px-4 py-3 text-sm",children:(0,l.jsxs)("div",{children:[l.jsx("p",{children:B(e.lastModifiedAt||e.uploadedAt)}),(0,l.jsxs)("p",{className:"text-xs text-muted-foreground",children:["por ",e.lastModifiedBy||"Desconhecido"]})]})}),l.jsx("td",{className:"px-4 py-3",children:(0,l.jsxs)("div",{className:"flex space-x-1",children:[l.jsx(o.z,{variant:"ghost",size:"icon",onClick:()=>w(e),children:l.jsx(A.Z,{className:"h-4 w-4"})}),l.jsx(o.z,{variant:"ghost",size:"icon",onClick:()=>S(e),children:l.jsx(z.Z,{className:"h-4 w-4"})}),l.jsx(o.z,{variant:"ghost",size:"icon",onClick:()=>b(e),children:l.jsx(g.Z,{className:"h-4 w-4 text-red-500"})})]})})]},e.id))})]})}),0===j.filter(e=>e.isTemplate).length&&l.jsx("div",{className:"py-8 text-center",children:l.jsx("p",{className:"text-muted-foreground",children:"Nenhum modelo encontrado."})})]})}),l.jsx(c.nU,{value:"assinaturas",children:(0,l.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[l.jsx("thead",{children:(0,l.jsxs)("tr",{className:"bg-muted/50",children:[l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Nome"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Solicitado por"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Data"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"A\xe7\xf5es"})]})}),l.jsx("tbody",{className:"divide-y",children:j.filter(e=>"review"===e.status).map(e=>(0,l.jsxs)("tr",{className:"hover:bg-muted/30",children:[l.jsx("td",{className:"px-4 py-3",children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx(h.Z,{className:"mr-2 h-5 w-5 text-yellow-500"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium",children:e.name}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.tags.map((e,s)=>l.jsx("span",{className:"text-xs bg-muted px-1.5 py-0.5 rounded",children:e},s))})]})]})}),l.jsx("td",{className:"px-4 py-3 text-sm",children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx(D.Z,{className:"mr-1 h-4 w-4 text-yellow-500"}),l.jsx("span",{children:"Aguardando Assinatura"})]})}),l.jsx("td",{className:"px-4 py-3 text-sm",children:e.lastModifiedBy||"Desconhecido"}),l.jsx("td",{className:"px-4 py-3 text-sm",children:B(e.lastModifiedAt||e.uploadedAt)}),l.jsx("td",{className:"px-4 py-3",children:(0,l.jsxs)("div",{className:"flex space-x-1",children:[l.jsx(o.z,{variant:"ghost",size:"icon",onClick:()=>w(e),children:l.jsx(A.Z,{className:"h-4 w-4"})}),l.jsx(o.z,{variant:"ghost",size:"icon",onClick:()=>k(e),children:l.jsx(y.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})}),0===j.filter(e=>"review"===e.status).length&&l.jsx("div",{className:"py-8 text-center",children:l.jsx("p",{className:"text-muted-foreground",children:"Nenhum documento pendente de assinatura."})})]})})]})]})},R=()=>{let e=r._R.map(e=>({...e,currentVersion:3,versions:P.filter(s=>s.documentId===e.id),collaborators:I,isTemplate:"5"===e.id||"8"===e.id,templateCategory:"5"===e.id?"Contratos":"8"===e.id?"Peti\xe7\xf5es":void 0,lastModifiedAt:"2025-03-22T09:15:00Z",lastModifiedBy:"Carlos Santos",status:"2"===e.id?"signed":"3"===e.id?"review":"draft",signedBy:"2"===e.id?["Jo\xe3o Silva","Maria Oliveira"]:void 0,signatureDate:"2"===e.id?"2025-03-22T15:30:00Z":void 0,isLocked:"2"===e.id})),[s,t]=(0,i.useState)(e),[a,o]=(0,i.useState)(""),[n,c]=(0,i.useState)({types:[],status:void 0}),[m,x]=(0,i.useState)("desc"),[u,h]=(0,i.useState)("documentos"),[p,f]=(0,i.useState)(null),[v,j]=(0,i.useState)(!1),[g,N]=(0,i.useState)(null),y=Array.from(new Set(s.map(e=>e.type))),b=s.filter(e=>e.isTemplate),w=s.filter(e=>{let s=""===a||e.name.toLowerCase().includes(a.toLowerCase()),t=0===n.types.length||n.types.includes(e.type),l=!n.status||e.status===n.status,i="templates"===u?e.isTemplate:"documentos"!==u||!e.isTemplate;return s&&t&&l&&i}).sort((e,s)=>{let t=new Date(e.lastModifiedAt||e.uploadedAt).getTime(),a=new Date(s.lastModifiedAt||s.uploadedAt).getTime();return"asc"===m?t-a:a-t});return l.jsx("div",{className:"min-h-screen bg-background pt-16 animate-fade-in",children:(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[l.jsx(E,{onScannedDocument:e=>{let a={id:(s.length+1).toString(),name:e.name,type:"evidence",path:URL.createObjectURL(e),size:e.size,uploadedBy:"1",uploadedAt:new Date().toISOString(),tags:["digitalizado","evid\xeancia"],currentVersion:1,status:"draft",lastModifiedAt:new Date().toISOString(),lastModifiedBy:"Jo\xe3o Silva"};t(e=>[{...a,versions:[],collaborators:[],isTemplate:!1,templateCategory:"",currentVersion:1,status:"draft",lastModifiedAt:new Date().toISOString(),lastModifiedBy:"Jo\xe3o Silva"},...e]),(0,d.Am)({title:"Documento digitalizado",description:"O documento foi digitalizado e adicionado com sucesso."})},onSignature:e=>{let a={id:(s.length+1).toString(),name:`Assinatura_${new Date().toLocaleDateString().replace(/\//g,"-")}.png`,type:"evidence",path:e,size:Math.round(.75*e.length),uploadedBy:"1",uploadedAt:new Date().toISOString(),tags:["assinatura","documento oficial"],currentVersion:1,status:"final",lastModifiedAt:new Date().toISOString(),lastModifiedBy:"Jo\xe3o Silva"};t(e=>[{...a,versions:[],collaborators:[],isTemplate:!1,templateCategory:"",lastModifiedAt:new Date().toISOString(),lastModifiedBy:"Jo\xe3o Silva",status:"draft",currentVersion:1,signedBy:[],signatureDate:void 0,isLocked:!1,type:a.type},...e]),(0,d.Am)({title:"Assinatura salva",description:"A assinatura foi salva e adicionada aos documentos."})},onOpenTemplates:()=>j(!0)}),l.jsx(L,{documents:s,searchQuery:a,setSearchQuery:o,filters:n,documentTypes:y,documentStatuses:["draft","review","final","signed"],toggleTypeFilter:e=>{c(s=>{let t=s.types.includes(e)?s.types.filter(s=>s!==e):[...s.types,e];return{...s,types:t}})},setStatusFilter:e=>{c(s=>({...s,status:e}))},clearFilters:()=>{c({types:[],status:void 0}),o("")},sortOrder:m,toggleSortOrder:()=>{x("asc"===m?"desc":"asc")},filteredDocuments:w,onDownload:e=>{(0,d.Am)({title:"Download iniciado",description:`${e.name} ser\xe1 baixado em breve.`})},onDelete:e=>{(0,d.Am)({title:"Documento removido",description:`${e.name} foi removido com sucesso.`,variant:"destructive"}),t(s=>s.filter(s=>s.id!==e.id))},onView:e=>{f(e)},onEdit:e=>{if(e.isLocked){(0,d.Am)({title:"Documento bloqueado",description:"Este documento est\xe1 assinado e n\xe3o pode ser editado.",variant:"destructive"});return}f(e)},onSign:e=>{N(e)},activeTab:u,setActiveTab:h}),p&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-6xl max-h-[90vh] overflow-auto",children:l.jsx(B,{document:p,onSave:(e,s)=>{if(!p)return;let a=new Date().toISOString(),l=(p.currentVersion||0)+1,i={id:`${p.id}_v${l}`,documentId:p.id,version:l,content:e,createdAt:a,createdBy:"Jo\xe3o Silva",comment:s};t(e=>e.map(e=>e.id===p.id?{...e,currentVersion:l,versions:[...e.versions||[],i],lastModifiedAt:a,lastModifiedBy:"Jo\xe3o Silva"}:e))},onAddCollaborator:(e,s)=>{if(!p)return;let a=new Date().toISOString(),l={userId:`temp_${Date.now()}`,name:e.split("@")[0],email:e,role:s,addedAt:a};t(e=>e.map(e=>e.id===p.id?{...e,collaborators:[...e.collaborators||[],l]}:e))},onClose:()=>f(null)})})}),v&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-auto",children:l.jsx(O,{templates:b,onUseTemplate:e=>{let a=s.find(s=>s.id===e);if(!a)return;let l=new Date().toISOString(),i={id:(s.length+1).toString(),name:`${a.name} - C\xf3pia`,type:a.type,path:a.path,size:a.size,uploadedBy:"1",uploadedAt:l,tags:[...a.tags,"baseado em modelo"],currentVersion:1,status:"draft",lastModifiedAt:l,lastModifiedBy:"Jo\xe3o Silva"};t(e=>[{...i,versions:[],collaborators:[],isTemplate:!1,templateCategory:"",lastModifiedAt:new Date().toISOString(),lastModifiedBy:"Jo\xe3o Silva",status:"draft",currentVersion:1,signedBy:[],signatureDate:void 0,isLocked:!1},...e]),j(!1),(0,d.Am)({title:"Modelo utilizado",description:`Um novo documento foi criado a partir do modelo "${a.name}".`}),f(i)},onCreateTemplate:(e,a)=>{let l=new Date().toISOString(),i={id:(s.length+1).toString(),name:e,type:"template",path:"",size:0,uploadedBy:"1",uploadedAt:l,tags:["modelo",a.toLowerCase()],isTemplate:!0,templateCategory:a,currentVersion:1,status:"draft",lastModifiedAt:l,lastModifiedBy:"Jo\xe3o Silva"};t(e=>[{...i,currentVersion:1,versions:[],collaborators:[],isTemplate:!0,templateCategory:i.templateCategory||"",lastModifiedAt:new Date().toISOString(),lastModifiedBy:"Jo\xe3o Silva",status:"draft",signedBy:[],signatureDate:void 0,isLocked:!1,type:i.type},...e]),f(i),j(!1)},onClose:()=>j(!1)})})}),g&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-3xl max-h-[90vh] overflow-auto",children:l.jsx(V,{document:g,onSignDocument:e=>{if(!g)return;let s=new Date().toISOString();t(e=>e.map(e=>e.id===g.id?{...e,status:"signed",signedBy:[...e.signedBy||[],"Jo\xe3o Silva"],signatureDate:s,isLocked:!0}:e)),N(null)},onRequestSignature:(e,s)=>{g&&((0,d.Am)({title:"Solicita\xe7\xe3o enviada",description:`Solicita\xe7\xe3o de assinatura enviada para ${e}.`}),N(null))},onClose:()=>N(null)})})})]})})};a()}catch(e){a(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")},5458:e=>{e.exports=import("@radix-ui/react-avatar")},4338:e=>{e.exports=import("@radix-ui/react-slot")},6860:e=>{e.exports=import("@radix-ui/react-tabs")},6926:e=>{e.exports=import("class-variance-authority")},6593:e=>{e.exports=import("clsx")},4711:e=>{e.exports=import("date-fns/locale")},8097:e=>{e.exports=import("tailwind-merge")}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[899,893,533],()=>t(1867));module.exports=a})();