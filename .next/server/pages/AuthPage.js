(()=>{var e={};e.id=122,e.ids=[122,888,660],e.modules={4857:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>x,default:()=>m,getServerSideProps:()=>h,getStaticPaths:()=>f,getStaticProps:()=>p,reportWebVitals:()=>g,routeModule:()=>E,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>A,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>v});var s=r(7093),i=r(5244),o=r(5418),n=r(2899),c=r.n(n),l=r(3414),d=r(2418),u=e([d]);d=(u.then?(await u)():u)[0];let m=(0,o.l)(d,"default"),p=(0,o.l)(d,"getStaticProps"),f=(0,o.l)(d,"getStaticPaths"),h=(0,o.l)(d,"getServerSideProps"),x=(0,o.l)(d,"config"),g=(0,o.l)(d,"reportWebVitals"),v=(0,o.l)(d,"unstable_getStaticProps"),b=(0,o.l)(d,"unstable_getStaticPaths"),A=(0,o.l)(d,"unstable_getStaticParams"),N=(0,o.l)(d,"unstable_getServerProps"),y=(0,o.l)(d,"unstable_getServerSideProps"),E=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/AuthPage",pathname:"/AuthPage",bundlePath:"",filename:""},components:{App:l.default,Document:c()},userland:d});a()}catch(e){a(e)}})},2418:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>f});var s=r(997),i=r(6689),o=r(1163),n=r(1064),c=r(5278),l=r(5417),d=r(6589),u=r(4471),m=r(799),p=e([n,c,u,m]);[n,c,u,m]=p.then?(await p)():p;let f=()=>{let[e,t]=(0,i.useState)("login"),r=(0,o.useRouter)(),{user:a}=(0,l.a)();return(0,i.useEffect)(()=>{let e=r.query.tab;"register"===e&&t("register")},[r.query]),(0,i.useEffect)(()=>{a&&r.push("/dashboard")},[a,r]),s.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md mx-auto",children:[s.jsx("div",{className:"mb-8 text-center",children:s.jsx(d.Z,{})}),(0,s.jsxs)(c.mQ,{defaultValue:e,value:e,onValueChange:t,className:"w-full",children:[(0,s.jsxs)(c.dr,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(c.SP,{value:"login",children:"Entrar"}),s.jsx(c.SP,{value:"register",children:"Registar"})]}),s.jsx(c.nU,{value:"login",children:(0,s.jsxs)(n.Zb,{className:"border-2",children:[(0,s.jsxs)(n.Ol,{className:"space-y-1",children:[s.jsx(n.ll,{className:"text-2xl font-bold",children:"Iniciar Sess\xe3o"}),s.jsx(n.SZ,{children:"Entre na sua conta para aceder \xe0 plataforma"})]}),s.jsx(u.Z,{})]})}),s.jsx(c.nU,{value:"register",children:(0,s.jsxs)(n.Zb,{className:"border-2",children:[(0,s.jsxs)(n.Ol,{className:"space-y-1",children:[s.jsx(n.ll,{className:"text-2xl font-bold",children:"Criar Conta"}),s.jsx(n.SZ,{children:"Registe-se para come\xe7ar a utilizar a plataforma"})]}),s.jsx(m.Z,{onSuccess:()=>{t("login")}})]})})]})]})})};a()}catch(e){a(e)}})},3414:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(997),s=r(5417);function i({Component:e,pageProps:t}){return a.jsx(s.H,{children:a.jsx(e,{...t})})}r(108)},6589:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(997);r(6689);var s=r(4661);let i=()=>(0,a.jsxs)(s.Link,{to:"/",className:"flex flex-col items-center",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 mb-2",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6 text-primary",children:a.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),a.jsx("h1",{className:"text-2xl font-bold",children:"LegalFlux"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gest\xe3o Jur\xeddica Simplificada"})]})},4471:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>p});var s=r(997),i=r(6689),o=r(4661),n=r(2417),c=r(8501),l=r(428),d=r(1323),u=r(5417),m=e([n,c,l]);[n,c,l]=m.then?(await m)():m;let p=()=>{let[e,t]=(0,i.useState)(""),[r,a]=(0,i.useState)(""),[m,p]=(0,i.useState)(!1),{toast:f}=(0,d.p)(),{signIn:h}=(0,u.a)(),x=(0,o.useNavigate)(),g=async t=>{if(t.preventDefault(),!e||!r){f({title:"Campos obrigat\xf3rios",description:"Por favor, preencha todos os campos.",variant:"destructive"});return}p(!0);try{await h(e,r),x("/dashboard")}catch(e){f({title:"Erro ao iniciar sess\xe3o",description:e.message||"Verifique as suas credenciais e tente novamente.",variant:"destructive"})}finally{p(!1)}};return(0,s.jsxs)("form",{onSubmit:g,className:"p-6 pt-0 space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(l._,{htmlFor:"email",children:"Email"}),s.jsx(c.I,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:e=>t(e.target.value),disabled:m})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(l._,{htmlFor:"password",children:"Password"}),s.jsx(n.z,{variant:"link",className:"px-0 text-xs text-muted-foreground",type:"button",onClick:()=>x("/reset-password"),children:"Esqueceu a password?"})]}),s.jsx(c.I,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:e=>a(e.target.value),disabled:m})]}),s.jsx(n.z,{type:"submit",className:"w-full",disabled:m,children:m?"A iniciar sess\xe3o...":"Iniciar Sess\xe3o"})]})};a()}catch(e){a(e)}})},799:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>m});var s=r(997),i=r(6689),o=r(2417),n=r(8501),c=r(428),l=r(1323),d=r(5417),u=e([o,n,c]);[o,n,c]=u.then?(await u)():u;let m=({onSuccess:e})=>{let[t,r]=(0,i.useState)(""),[a,u]=(0,i.useState)(""),[m,p]=(0,i.useState)(""),[f,h]=(0,i.useState)(!1),{toast:x}=(0,l.p)(),{signUp:g}=(0,d.a)(),v=async r=>{if(r.preventDefault(),!t||!a||!m){x({title:"Campos obrigat\xf3rios",description:"Por favor, preencha todos os campos.",variant:"destructive"});return}if(m.length<8){x({title:"Password fraca",description:"A password deve ter pelo menos 8 caracteres.",variant:"destructive"});return}h(!0);try{await g(a,m,{nome:t,apelido:t}),x({title:"Conta criada com sucesso",description:"Verifique o seu email para confirmar a sua conta."}),e&&e()}catch(e){x({title:"Erro ao criar conta",description:e.message||"Ocorreu um erro ao criar a sua conta. Tente novamente.",variant:"destructive"})}finally{h(!1)}};return(0,s.jsxs)("form",{onSubmit:v,className:"p-6 pt-0 space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{htmlFor:"name",children:"Nome completo"}),s.jsx(n.I,{id:"name",placeholder:"Seu nome",value:t,onChange:e=>r(e.target.value),disabled:f})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{htmlFor:"email",children:"Email"}),s.jsx(n.I,{id:"email",type:"email",placeholder:"seu@email.com",value:a,onChange:e=>u(e.target.value),disabled:f})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{htmlFor:"password",children:"Password"}),s.jsx(n.I,{id:"password",type:"password",placeholder:"••••••••",value:m,onChange:e=>p(e.target.value),disabled:f}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"A password deve ter pelo menos 8 caracteres."})]}),s.jsx(o.z,{type:"submit",className:"w-full",disabled:f,children:f?"A criar conta...":"Criar Conta"}),(0,s.jsxs)("p",{className:"text-xs text-center text-muted-foreground",children:["Ao criar uma conta, voc\xea concorda com os nossos"," ",s.jsx("a",{href:"/terms",className:"underline underline-offset-2 hover:text-primary",children:"Termos de Servi\xe7o"})," ","e"," ",s.jsx("a",{href:"/privacy",className:"underline underline-offset-2 hover:text-primary",children:"Pol\xedtica de Privacidade"}),"."]})]})};a()}catch(e){a(e)}})},2417:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{z:()=>d});var s=r(997),i=r(6689),o=r(6926),n=r(3917),c=e([o,n]);[o,n]=c.then?(await c)():c;let l=(0,o.cva)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...o},c)=>{let d=a?i.Fragment:"button";return s.jsx(d,{className:(0,n.cn)(l({variant:t,size:r,className:e})),ref:c,...o})});d.displayName="Button",a()}catch(e){a(e)}})},1064:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Ol:()=>l,SZ:()=>u,Zb:()=>c,aY:()=>m,ll:()=>d});var s=r(997),i=r(6689),o=r(3917),n=e([o]);o=(n.then?(await n)():n)[0];let c=i.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));c.displayName="Card";let l=i.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let d=i.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let u=i.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));u.displayName="CardDescription";let m=i.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,o.cn)("p-6 pt-0",e),...t}));m.displayName="CardContent",i.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",a()}catch(e){a(e)}})},8501:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{I:()=>c});var s=r(997),i=r(6689),o=r(3917),n=e([o]);o=(n.then?(await n)():n)[0];let c=i.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));c.displayName="Input",a()}catch(e){a(e)}})},428:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{_:()=>c});var s=r(997),i=r(6689),o=r(3917),n=e([o]);o=(n.then?(await n)():n)[0];let c=i.forwardRef(({className:e,...t},r)=>s.jsx("label",{ref:r,className:(0,o.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));c.displayName="Label",a()}catch(e){a(e)}})},5278:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{SP:()=>u,dr:()=>d,mQ:()=>l,nU:()=>m});var s=r(997),i=r(6689),o=r(6860),n=r(3917),c=e([o,n]);[o,n]=c.then?(await c)():c;let l=o.Root,d=i.forwardRef(({className:e,...t},r)=>s.jsx(o.List,{ref:r,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));d.displayName=o.List.displayName;let u=i.forwardRef(({className:e,...t},r)=>s.jsx(o.Trigger,{ref:r,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));u.displayName=o.Trigger.displayName;let m=i.forwardRef(({className:e,...t},r)=>s.jsx(o.Content,{ref:r,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));m.displayName=o.Content.displayName,a()}catch(e){a(e)}})},1323:(e,t,r)=>{"use strict";r.d(t,{p:()=>a}),r(6689);let a=()=>({toast:e=>{console.log("Toast:",e)},dismiss:()=>{},toasts:[]})},5417:(e,t,r)=>{"use strict";r.d(t,{H:()=>h,a:()=>x});var a,s,i,o,n,c,l,d=r(997),u=r(6689);let m=(0,r(2885).createClient)("https://example.supabase.co","your-anon-key");var p=r(1323);(function(e){e.PRIMEIRA_INSTANCIA="tribunal_primeira_instancia",e.RELACAO="tribunal_relacao",e.SUPREMO="supremo_tribunal_justica",e.CONSTITUCIONAL="tribunal_constitucional",e.ADMINISTRATIVO="tribunal_administrativo",e.FISCAL="tribunal_fiscal",e.JULGADO_PAZ="julgado_paz",e.TRABALHO="tribunal_trabalho",e.MARITIMO="tribunal_maritimo",e.PROPRIEDADE_INTELECTUAL="tribunal_propriedade_intelectual",e.CONCORRENCIA="tribunal_concorrencia",e.EXECUCAO_PENAS="tribunal_execucao_penas",e.CONSERVATORIA="conservatoria",e.NOTARIO="notario",e.OTHER="other"})(a||(a={})),function(e){e.ACAO_CIVIL="acao_civil",e.PROCESSO_PENAL="processo_penal",e.PROCESSO_TRABALHO="processo_trabalho",e.PROCESSO_ADMINISTRATIVO="processo_administrativo",e.PROCESSO_FISCAL="processo_fiscal",e.PROCESSO_FAMILIA="processo_familia",e.INVENTARIO="inventario",e.EXECUCAO="execucao",e.PROVIDENCIA_CAUTELAR="providencia_cautelar",e.RECURSO="recurso",e.INSOLVENCIA="insolvencia",e.MEDIACAO="mediacao",e.ARBITRAGEM="arbitragem",e.OTHER="other"}(s||(s={})),function(e){e.ADMINISTRADOR="administrador",e.ADVOGADO_SENIOR="advogado_senior",e.ADVOGADO="advogado",e.ASSISTENTE="assistente",e.CLIENTE="cliente"}(i||(i={})),function(e){e.PENDENTE="pendente",e.EM_ANDAMENTO="em_andamento",e.CONCLUIDA="concluida",e.BLOQUEADA="bloqueada",e.CANCELADA="cancelada"}(o||(o={})),function(e){e.BAIXA="baixa",e.MEDIA="media",e.ALTA="alta",e.URGENTE="urgente"}(n||(n={})),function(e){e.ATIVO="ativo",e.SUSPENSO="suspenso",e.ARQUIVADO="arquivado",e.ENCERRADO="encerrado",e.RECURSO="recurso",e.AGUARDANDO_DECISAO="aguardando_decisao"}(c||(c={})),function(e){e.PETICAO_INICIAL="peticao_inicial",e.CONTESTACAO="contestacao",e.RECURSO="recurso",e.ALEGACOES="alegacoes",e.PROCURACAO="procuracao",e.NOTIFICACAO="notificacao",e.SENTENCA="sentenca",e.ACORDAO="acordao",e.CONTRATO="contrato",e.ESCRITURA="escritura",e.CERTIDAO="certidao",e.DESPACHO="despacho",e.PARECER="parecer",e.RECLAMACAO="reclamacao",e.REQUERIMENTO="requerimento",e.RELATORIO="relatorio",e.OUTRO="outro"}(l||(l={}));let f=(0,u.createContext)(void 0),h=({children:e})=>{let[t,r]=(0,u.useState)(null),[a,s]=(0,u.useState)(null),[o,n]=(0,u.useState)(!0),[c,l]=(0,u.useState)(null),{toast:h}=(0,p.p)(),x=async e=>{try{let{data:t,error:r}=await m.from("profiles").select("role").eq("id",e).single();if(r)throw r;t&&l(t.role)}catch(e){console.error("Failed to fetch user role:",e),l(null)}},g=async()=>{n(!0);try{let{data:{session:e},error:t}=await m.auth.getSession();if(t)throw t;s(e),r(e?.user||null),e?.user?await x(e.user.id):l(null)}catch(e){console.error("Failed to refresh session:",e)}finally{n(!1)}};(0,u.useEffect)(()=>{g();let{data:{subscription:e}}=m.auth.onAuthStateChange(async(e,t)=>{switch(s(t),r(t?.user||null),t?.user?await x(t.user.id):l(null),e){case"SIGNED_IN":h({title:"Bem-vindo",description:"Sess\xe3o iniciada com sucesso"});break;case"SIGNED_OUT":h({title:"Sess\xe3o terminada",description:"At\xe9 logo!"});break;case"TOKEN_REFRESHED":console.log("Token refreshed")}});return()=>e.unsubscribe()},[h]);let v=async(e,t)=>{try{let{error:r}=await m.auth.signInWithPassword({email:e,password:t});return r&&h({title:"Erro",description:r.message,variant:"destructive"}),{error:r?Error(r.message):null}}catch(e){return console.error("Login error:",e),{error:e instanceof Error?e:Error("Unknown error")}}},b=async(e,t,{nome:r,apelido:a,role:s=i.CLIENTE})=>{try{let{error:i}=await m.auth.signUp({email:e,password:t,options:{data:{nome:r,apelido:a,role:s}}});if(i)throw i;return h({title:"Sucesso",description:"Verifique seu email para confirmar o registro"}),{error:null}}catch(e){return console.error("Registration error:",e),{error:e instanceof Error?e:Error("Registration failed")}}},A=async()=>{try{await m.auth.signOut(),h({title:"Desconectado",description:"Sess\xe3o encerrada"})}catch(e){console.error("Logout error:",e),h({title:"Erro",description:"Falha ao sair",variant:"destructive"})}};return d.jsx(f.Provider,{value:{user:t,session:a,isLoading:o,userRole:c,signIn:v,signUp:b,signOut:A,refreshSession:g},children:e})},x=()=>{let e=(0,u.useContext)(f);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},3917:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{cn:()=>n});var s=r(6593),i=r(8097),o=e([s,i]);function n(...e){return(0,i.twMerge)((0,s.clsx)(e))}[s,i]=o.then?(await o)():o,a()}catch(e){a(e)}})},108:()=>{},2885:e=>{"use strict";e.exports=require("@supabase/supabase-js")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},4661:e=>{"use strict";e.exports=require("react-router-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")},6860:e=>{"use strict";e.exports=import("@radix-ui/react-tabs")},6926:e=>{"use strict";e.exports=import("class-variance-authority")},6593:e=>{"use strict";e.exports=import("clsx")},8097:e=>{"use strict";e.exports=import("tailwind-merge")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[899,930,163],()=>r(4857));module.exports=a})();