(()=>{var e={};e.id=888,e.ids=[888],e.modules={3414:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>i});var t=a(997),o=a(327);function i({Component:e,pageProps:r}){return t.jsx(o.H,{children:t.jsx(e,{...r})})}a(108)},327:(e,r,a)=>{"use strict";a.d(r,{H:()=>R,a:()=>C});var t,o,i,s,n,c,u,l=a(997),A=a(6689);let E=(0,require("@supabase/supabase-js").createClient)("https://example.supabase.co","your-anon-key"),O=()=>({toast:e=>{console.log("Toast:",e)},dismiss:()=>{},toasts:[]});(function(e){e.PRIMEIRA_INSTANCIA="tribunal_primeira_instancia",e.RELACAO="tribunal_relacao",e.SUPREMO="supremo_tribunal_justica",e.CONSTITUCIONAL="tribunal_constitucional",e.ADMINISTRATIVO="tribunal_administrativo",e.FISCAL="tribunal_fiscal",e.JULGADO_PAZ="julgado_paz",e.TRABALHO="tribunal_trabalho",e.MARITIMO="tribunal_maritimo",e.PROPRIEDADE_INTELECTUAL="tribunal_propriedade_intelectual",e.CONCORRENCIA="tribunal_concorrencia",e.EXECUCAO_PENAS="tribunal_execucao_penas",e.CONSERVATORIA="conservatoria",e.NOTARIO="notario",e.OTHER="other"})(t||(t={})),function(e){e.ACAO_CIVIL="acao_civil",e.PROCESSO_PENAL="processo_penal",e.PROCESSO_TRABALHO="processo_trabalho",e.PROCESSO_ADMINISTRATIVO="processo_administrativo",e.PROCESSO_FISCAL="processo_fiscal",e.PROCESSO_FAMILIA="processo_familia",e.INVENTARIO="inventario",e.EXECUCAO="execucao",e.PROVIDENCIA_CAUTELAR="providencia_cautelar",e.RECURSO="recurso",e.INSOLVENCIA="insolvencia",e.MEDIACAO="mediacao",e.ARBITRAGEM="arbitragem",e.OTHER="other"}(o||(o={})),function(e){e.ADMINISTRADOR="administrador",e.ADVOGADO_SENIOR="advogado_senior",e.ADVOGADO="advogado",e.ASSISTENTE="assistente",e.CLIENTE="cliente"}(i||(i={})),function(e){e.PENDENTE="pendente",e.EM_ANDAMENTO="em_andamento",e.CONCLUIDA="concluida",e.BLOQUEADA="bloqueada",e.CANCELADA="cancelada"}(s||(s={})),function(e){e.BAIXA="baixa",e.MEDIA="media",e.ALTA="alta",e.URGENTE="urgente"}(n||(n={})),function(e){e.ATIVO="ativo",e.SUSPENSO="suspenso",e.ARQUIVADO="arquivado",e.ENCERRADO="encerrado",e.RECURSO="recurso",e.AGUARDANDO_DECISAO="aguardando_decisao"}(c||(c={})),function(e){e.PETICAO_INICIAL="peticao_inicial",e.CONTESTACAO="contestacao",e.RECURSO="recurso",e.ALEGACOES="alegacoes",e.PROCURACAO="procuracao",e.NOTIFICACAO="notificacao",e.SENTENCA="sentenca",e.ACORDAO="acordao",e.CONTRATO="contrato",e.ESCRITURA="escritura",e.CERTIDAO="certidao",e.DESPACHO="despacho",e.PARECER="parecer",e.RECLAMACAO="reclamacao",e.REQUERIMENTO="requerimento",e.RELATORIO="relatorio",e.OUTRO="outro"}(u||(u={}));let d=(0,A.createContext)(void 0),R=({children:e})=>{let[r,a]=(0,A.useState)(null),[t,o]=(0,A.useState)(null),[s,n]=(0,A.useState)(!0),[c,u]=(0,A.useState)(null),{toast:R}=O(),C=async e=>{try{let{data:r,error:a}=await E.from("profiles").select("role").eq("id",e).single();if(a)throw a;r&&u(r.role)}catch(e){console.error("Failed to fetch user role:",e),u(null)}},I=async()=>{n(!0);try{let{data:{session:e},error:r}=await E.auth.getSession();if(r)throw r;o(e),a(e?.user||null),e?.user?await C(e.user.id):u(null)}catch(e){console.error("Failed to refresh session:",e)}finally{n(!1)}};(0,A.useEffect)(()=>{I();let{data:{subscription:e}}=E.auth.onAuthStateChange(async(e,r)=>{switch(o(r),a(r?.user||null),r?.user?await C(r.user.id):u(null),e){case"SIGNED_IN":R({title:"Bem-vindo",description:"Sess\xe3o iniciada com sucesso"});break;case"SIGNED_OUT":R({title:"Sess\xe3o terminada",description:"At\xe9 logo!"});break;case"TOKEN_REFRESHED":console.log("Token refreshed")}});return()=>e.unsubscribe()},[R]);let S=async(e,r)=>{try{let{error:a}=await E.auth.signInWithPassword({email:e,password:r});return a&&R({title:"Erro",description:a.message,variant:"destructive"}),{error:a?Error(a.message):null}}catch(e){return console.error("Login error:",e),{error:e instanceof Error?e:Error("Unknown error")}}},T=async(e,r,{nome:a,apelido:t,role:o=i.CLIENTE})=>{try{let{error:i}=await E.auth.signUp({email:e,password:r,options:{data:{nome:a,apelido:t,role:o}}});if(i)throw i;return R({title:"Sucesso",description:"Verifique seu email para confirmar o registro"}),{error:null}}catch(e){return console.error("Registration error:",e),{error:e instanceof Error?e:Error("Registration failed")}}},_=async()=>{try{await E.auth.signOut(),R({title:"Desconectado",description:"Sess\xe3o encerrada"})}catch(e){console.error("Logout error:",e),R({title:"Erro",description:"Falha ao sair",variant:"destructive"})}};return l.jsx(d.Provider,{value:{user:r,session:t,isLoading:s,userRole:c,signIn:S,signUp:T,signOut:_,refreshSession:I},children:e})},C=()=>{let e=(0,A.useContext)(d);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},108:()=>{},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")}};var r=require("../webpack-runtime.js");r.C(e);var a=r(r.s=3414);module.exports=a})();